

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-hans" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-hans" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Collision &mdash; Blender Manual</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://docs.blender.org/manual/en/dev/physics/soft_body/collision.html"/>
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within Blender Manual" href="../../_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Blender Manual" href="../../index.html"/>
        <link rel="up" title="Soft Body" href="index.html"/>
        <link rel="next" title="Examples" href="examples.html"/>
        <link rel="prev" title="Interior" href="forces/interior.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Blender 2.79 Manual
          

          
            
            <img src="../../_static/blender-logo.svg" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Blender入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interface/index.html">用户界面</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../editors/index.html">编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_system/index.html">数据系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modeling/index.html">制作模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sculpt_paint/index.html">绘制与雕刻</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rigging/index.html">绑定</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../animation/index.html">动画</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">物理</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gravity.html">重力</a></li>
<li class="toctree-l2"><a class="reference internal" href="../baking.html">烘焙物理模拟</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#physic-types">物理类型</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../force_fields/index.html">力场</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collision.html">碰撞</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cloth/index.html">Cloth Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic_paint/index.html">Dynamic Paint</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Soft Body</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="introduction.html">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="forces/index.html">Forces</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Collision</a></li>
<li class="toctree-l4"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../fluid/index.html">流体模拟</a></li>
<li class="toctree-l3"><a class="reference internal" href="../smoke/index.html">Smoke Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rigid_body/index.html">刚体</a></li>
<li class="toctree-l3"><a class="reference internal" href="../particles/index.html">Particles System</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../render/index.html">渲染</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../compositing/index.html">合成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../game_engine/index.html">游戏引擎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../preferences/index.html">用户设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/index.html">高级应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pipeline/index.html">管线</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/index.html">问题排查</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/index.html">词汇表</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">关于本手册</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Blender 2.79 Manual</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">物理</a> &raquo;</li>
        
          <li><a href="index.html">Soft Body</a> &raquo;</li>
        
      <li>Collision</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/physics/soft_body/collision.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="collision">
<h1>Collision<a class="headerlink" href="#collision" title="Permalink to this headline">¶</a></h1>
<p>There are two different collision types that you may use:
collision between different objects and internal collision.
We should set one thing straight from the start:
the primary targets of the collision calculation are the vertices of a Soft Body.
So if you have too few vertices too few collision takes place. Secondarily,
you can use edges and faces to improve the collision calculation.</p>
<div class="section" id="collisions-with-other-objects">
<h2>Collisions with Other Objects<a class="headerlink" href="#collisions-with-other-objects" title="Permalink to this headline">¶</a></h2>
<p>For a <em>Soft Body</em> to collide with another object there are a few prerequisites:</p>
<ul class="simple">
<li>If <em>Collision Group</em> is set, the object must belong to the group.
Otherwise, both objects have to share a layer, but the layer does not necessarily have to be visible.</li>
<li>The collision object has to be a mesh object.</li>
<li>You have to activate the option <em>Collision</em> in the <em>Collision</em> panel of the <em>Physics</em> tab
for the collision object. The collision object may also be a Soft Body.</li>
<li>If you use modifiers such as <em>Array</em> and <em>Mirror</em> you have to activate <em>EV.M.Stack</em> to ensure
that collision calculation is based on the modified object. The sequence of <em>Modifiers</em> is not important.</li>
</ul>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>A cube colliding with a plane works pretty well Fig. <a class="reference internal" href="#fig-softbody-collision-plane1"><span class="std std-ref">A Soft Body cube colliding with a plane.</span></a>,
but a plane falls right through a cube that it is supposed to collide with
Fig. <a class="reference internal" href="#fig-softbody-collision-plane2"><span class="std std-ref">A Soft Body plane colliding with a cube, so no interaction at all.</span></a>. Why is that?
Because the default method of calculation only checks to see if the four vertices of
the plane collides with the cube as the plane is pulled down by gravity. You can activate
<em>CFace</em> to enable collision between the face of the plane and the object instead
Fig. <a class="reference internal" href="#fig-softbody-collision-plane3"><span class="std std-ref">Collision with Face activated.</span></a>, but this type of calculation takes much longer.</p>
<p>Let us have a closer look at the collision calculation, so you can get an idea of how we might optimize it.</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last figure" id="id1">
<span id="fig-softbody-collision-plane1"></span><img alt="../../_images/physics_soft-body_collision_cubeplane1.gif" src="../../_images/physics_soft-body_collision_cubeplane1.gif" />
<p class="caption"><span class="caption-text">A Soft Body cube colliding with a plane.</span></p>
</div>
</td>
<td><div class="first last figure" id="id2">
<span id="fig-softbody-collision-plane2"></span><img alt="../../_images/physics_soft-body_collision_cubeplane2.gif" src="../../_images/physics_soft-body_collision_cubeplane2.gif" />
<p class="caption"><span class="caption-text">A Soft Body plane colliding with a cube, so no interaction at all.</span></p>
</div>
</td>
<td><div class="first last figure" id="id3">
<span id="fig-softbody-collision-plane3"></span><img alt="../../_images/physics_soft-body_collision_cubeplane-cface.gif" src="../../_images/physics_soft-body_collision_cubeplane-cface.gif" />
<p class="caption"><span class="caption-text">Collision with Face activated.</span></p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="calculating-collisions">
<h3>Calculating Collisions<a class="headerlink" href="#calculating-collisions" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="first last figure" id="id4">
<span id="fig-softbody-collision-vertex"></span><img alt="../../_images/physics_soft-body_collision_vertex-plane1.gif" src="../../_images/physics_soft-body_collision_vertex-plane1.gif" />
<p class="caption"><span class="caption-text">Visualization of the collision of a Soft Body vertex with a plane.</span></p>
</div>
</td>
<td><div class="first last figure" id="id5">
<span id="fig-softbody-collision-vertex2"></span><img alt="../../_images/physics_soft-body_collision_vertex-plane2.gif" src="../../_images/physics_soft-body_collision_vertex-plane2.gif" />
<p class="caption"><span class="caption-text">Six Soft Body vertices with different speed.</span></p>
<div class="legend">
<a class="reference external" href="https://wiki.blender.org/index.php/Media:CollidingVertices.blend">Blend file</a>.</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Soft Body simulation is by default done on a per vertex basis. If the vertices of the Soft Body
do not collide with the collision object, there will be no interaction between the two objects.</p>
<p>In Fig. <a class="reference internal" href="#fig-softbody-collision-vertex"><span class="std std-ref">Visualization of the collision of a Soft Body vertex with a plane.</span></a> you can see a vertex colliding with a plane.
If a vertex penetrates the zone between <em>Outer</em> and <em>Inner</em>, it is repulsed by a force in
the direction of the face normal. The position that a vertex finally ends up in is dependent
on the forces that act upon it. In the example gravity and the repulsion force of the face balance out.
The speed at which the vertex is pulled out of the collision zone is influenced by the <em>Choke</em> parameter
in the <a class="reference internal" href="settings.html#physics-softbody-settings-solver"><span class="std std-ref">Soft Body Solver settings</span></a>.</p>
<p>Now lets see what happens if we make vertices heavier and let them travel at a faster speed.
In Fig. <a class="reference internal" href="#fig-softbody-collision-vertex2"><span class="std std-ref">Six Soft Body vertices with different speed.</span></a> you can see vertices traveling at different speeds.
The two on the far right (5 and 6) are traveling so fast that they pass right through the collision zone
(this is because of the default solver precision, which we can fix later). You will notice
that the fourth vertex also travels quite fast and because it is heavier it breaches the inner
zone. The first three vertices collide correctly.</p>
<div class="figure" id="id6">
<span id="fig-softbody-collision-vertex3"></span><img alt="../../_images/physics_soft-body_collision_edges.png" src="../../_images/physics_soft-body_collision_edges.png" />
<p class="caption"><span class="caption-text">Also Edges and Faces can be used for the collision calculation.</span></p>
</div>
<p>You can set up your collision so that edges and even faces are included in the collision calculation Fig.
<a class="reference internal" href="#fig-softbody-collision-vertex3"><span class="std std-ref">Also Edges and Faces can be used for the collision calculation.</span></a>. The collision is then calculated differently. It is checked whether
the edge or face intersects with the collision object, the collision zones are not used.</p>
</div>
<div class="section" id="good-collisions">
<h3>Good Collisions<a class="headerlink" href="#good-collisions" title="Permalink to this headline">¶</a></h3>
<p>If the collision you have set up is not behaving properly, you can try the following:</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>The best way</p>
<p class="last">Add <em>Loop Cuts</em> to your Soft Body object in strategic areas that
you know are most likely to  be involved in a collision.</p>
</div>
<ul class="simple">
<li>The Soft Body object must have more subdivisions than the collision object.</li>
<li>Check the direction of the face normals.</li>
<li>If the collision object has sharp spikes they might penetrate the Soft Body.</li>
<li>The resolution of the solver must match the speed at which Soft Body vertices are traveling.
Lower the parameter <em>Error Lim</em> and carefully increase <em>Min S</em>.</li>
<li><em>Outer</em> and <em>Inner</em> should be large enough, but zones of opposite faces should not overlap,
or you have forces in opposite directions.</li>
<li>If you use strong forces you should use large zones.</li>
<li>Set <em>Choke</em> to a high enough value (all the way up if necessary) if you have difficulties with repelled vertices.</li>
<li>Colliding faces are difficult to control and need long calculation times. Try not to use them.</li>
</ul>
<p>Often it is better to create a simplified mesh to use as your collision object,
however, this may be difficult if you are using an animated mesh.</p>
</div>
</div>
<div class="section" id="self-collisions">
<h2>Self Collisions<a class="headerlink" href="#self-collisions" title="Permalink to this headline">¶</a></h2>
<p>For information on self collision please refer to the <a class="reference internal" href="settings.html#physics-softbody-settings-self-collision"><span class="std std-ref">Self Collision</span></a> settings.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="forces/interior.html" class="btn btn-neutral" title="Interior" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright : This page is licensed under a CC-BY-SA 4.0 Int. License.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="document versions" aria-hidden="true">
<ul id="versionwrap" role="presentation">
   <li style="float:left" role="presentation">
		<span id="version-dropdown" class="version-btn" tabindex="0" role="button" aria-label="versions selector" aria-haspopup="true" aria-controls="version-vsnlist" aria-disabled="true">
		2.79 
		</span>
		<ul id="version-vsnlist" class="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
   <li style="float:right" role="presentation">
		<span id="lang-dropdown" class="version-btn" tabindex="0" role="button"  aria-label="language selector" aria-haspopup="true" aria-controls="version-langlist">
			 zh-hans 
		</span>
		<ul id="version-langlist" class="version-list" role="menu" aria-labelledby="lang-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
</ul>
</div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.79',
            LANGUAGE:'zh-hans',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/js/version_switch.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>