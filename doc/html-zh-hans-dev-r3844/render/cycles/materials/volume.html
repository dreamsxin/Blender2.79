

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-hans" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-hans" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>体积着色器 &mdash; Blender Manual</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://docs.blender.org/manual/en/dev/render/cycles/materials/volume.html"/>
  

  

  
  
    
      <link rel="search" type="application/opensearchdescription+xml" title="Search within Blender Manual" href="../../../_static/opensearch.xml"/>
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Blender Manual" href="../../../index.html"/>
        <link rel="up" title="材质" href="index.html"/>
        <link rel="next" title="置换着色器" href="displacement.html"/>
        <link rel="prev" title="表面材质" href="surface.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Blender 2.79 Manual
          

          
            
            <img src="../../../_static/blender-logo.svg" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Blender入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interface/index.html">用户界面</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editors/index.html">编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_system/index.html">数据系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modeling/index.html">制作模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sculpt_paint/index.html">绘制与雕刻</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rigging/index.html">绑定</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../animation/index.html">动画</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/index.html">物理</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">渲染</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction.html">简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../blender_render/index.html">Blender渲染引擎</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Cycles渲染引擎</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../introduction.html">简介</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">材质</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="introduction.html">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="surface.html">表面材质</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">体积着色器</a></li>
<li class="toctree-l4"><a class="reference internal" href="displacement.html">置换着色器</a></li>
<li class="toctree-l4"><a class="reference internal" href="settings.html">材质设置</a></li>
<li class="toctree-l4"><a class="reference internal" href="texture_editing.html">纹理编辑</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../lamps.html">灯光</a></li>
<li class="toctree-l3"><a class="reference internal" href="../world.html">世界</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nodes/index.html">节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../camera.html">摄像机</a></li>
<li class="toctree-l3"><a class="reference internal" href="../features.html">渲染功能特性</a></li>
<li class="toctree-l3"><a class="reference internal" href="../settings/index.html">Cycles Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gpu_rendering.html">GPU渲染</a></li>
<li class="toctree-l3"><a class="reference internal" href="../baking.html">渲染烘焙</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimizations/index.html">Optimizing Renders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../output/index.html">渲染输出</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../post_process/index.html">后期处理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../freestyle/index.html">Freestyle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workflows/index.html">工作流</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opengl.html">OpenGL渲染</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../audio/index.html">音频渲染</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../compositing/index.html">合成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../game_engine/index.html">游戏引擎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../preferences/index.html">用户设置</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">高级应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pipeline/index.html">管线</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">问题排查</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/index.html">词汇表</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">关于本手册</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Blender 2.79 Manual</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">渲染</a> &raquo;</li>
        
          <li><a href="../index.html">Cycles渲染引擎</a> &raquo;</li>
        
          <li><a href="index.html">材质</a> &raquo;</li>
        
      <li>体积着色器</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/render/cycles/materials/volume.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="volume">
<h1>体积着色器<a class="headerlink" href="#volume" title="Permalink to this headline">¶</a></h1>
<p>体积渲染可以用来实现像火，烟，雾，或者玻璃吸收光的渲染效果，以及许多不能单独被表面网格所表现的效果。</p>
<p>要设置体积着色时，先要创建一个包含这块体积的网格区域。在默认材质节点中，移除表面节点，连接体积内部的节点，以此来定义内部纹理。要模拟玻璃的吸收效果可以把表面着色器和体积着色器都加上。世界设置也可以使用体着色器来模拟烟雾等效果。</p>
<div class="section" id="volume-shaders">
<h2>体积着色器<a class="headerlink" href="#volume-shaders" title="Permalink to this headline">¶</a></h2>
<p>Cycles支持三种体积着色器节点，对各种特殊的光穿越体积物体以及和它之间的交互作用进行了建模:</p>
<ul class="simple">
<li>Volume Absorption（体积吸收）会吸收部分穿过物体内部的光线。这种效果可以于黑烟或者彩色玻璃中，又或者混合体积散射的节点。这个节点有点像透射BSDF节点，可以让光线部分被阻挡、部分透过。</li>
<li>Volume Scatter（体积散射）是让穿过物体的光线在碰到粒子后散射到其他方向。各项异性值决定了光更多的向哪个方向散射。0值让光向所有方向散射（跟漫射BSDF节点很像），负值让光逆向散射更多，正值让光前向散射。这个节点可以做白色烟雾或者云的效果。</li>
<li>Emission（自发光）散射可以让物体从内部发射灯光。这种情况可以模拟火焰效果。</li>
</ul>
<div class="figure align-center" id="id1">
<img alt="../../../_images/render_cycles_materials_volume_node.jpg" src="../../../_images/render_cycles_materials_volume_node.jpg" />
<p class="caption"><span class="caption-text">体积着色器: Absorption（吸收） / Absorption + Scatter（吸收+散射） / Emission（发射）。</span></p>
</div>
<div class="section" id="density">
<h3>密度<a class="headerlink" href="#density" title="Permalink to this headline">¶</a></h3>
<p>所有的体着色器都有一个密度定义。密度决定了光线有多少需要跟体积进行交互，得到吸收或者散色，还有多少会直接穿透。要模拟烟雾的时候你需要指定一个密度场来说明体积的哪些地方烟比较多（密度大于0），哪些地方是没有烟的（密度等于0）。</p>
<p>现实情况下，体积中是混合着粒子的，密度越高表示单位体积内有越多的粒子。而更多的粒子意味着光线有更可能跟粒子进行碰撞，被吸收或者被打散，而不是直接透射出体积。</p>
</div>
</div>
<div class="section" id="volume-material">
<h2>体积材质<a class="headerlink" href="#volume-material" title="Permalink to this headline">¶</a></h2>
<div class="section" id="interaction-with-the-surface-shader">
<h3>和表面着色器交互<a class="headerlink" href="#interaction-with-the-surface-shader" title="Permalink to this headline">¶</a></h3>
<p>一个材质可能会兼有表面和体着色器，或者只有其中一种。玻璃、水或者冰可能会同时用上两种，当需要将光部分吸收和部分穿透表面的时候，在表面上混合玻璃或者光泽着色器。</p>
<p>当表面着色器没有反射或者吸收光的时候，光线就进入了内部。如果这时候没有体积着色器指定，光就会直接穿透网格。如果定义了体积着色器，光线则和网格内体有交互。光线可能会被体积里的任意点散射，吸收或者发射。</p>
</div>
<div class="section" id="mesh-topology">
<h3>网格拓扑<a class="headerlink" href="#mesh-topology" title="Permalink to this headline">¶</a></h3>
<p>作为体积渲染的网格需要是闭合的，以及符合 <a class="reference internal" href="../../../glossary/index.html#term-manifold"><span class="xref std std-term">流形</span></a> 。这意味着网格上是不能有开口。每条边必须严格的保证链接到两个面上，不能有洞和T形的面，比如说不能有三个或者三个以上的面链接到一条边上。</p>
<p>想要结果正确，法线必须全部指向外面。法线是用来探测光束是进入还是穿出体积的，如果法线指向错误的方向，又或是网格上有开口的话，渲染器可能根本无法知道体积的内外方向。</p>
<p>这套规则也同样适用于：如何正确地渲染玻璃折射。</p>
</div>
</div>
<div class="section" id="volume-world">
<h2>世界体积<a class="headerlink" href="#volume-world" title="Permalink to this headline">¶</a></h2>
<p>体积着色器也可以在整个世界中应用，它会填满整个空间。</p>
<p>现如今，这种着色器非常适合夜景和灰暗的场景，如果体积着色器被使用，世界的表面着色器和太阳光源都将失效。这是因为当世界背景被设定在无穷远的位置时，对太阳光来说是足够精确的。但是进行模拟雾效和大气散色的时候，填充整个空间并不是一个好方式，因为在太阳光到地球之间实际上是有很长一段距离没有东西（无阻碍光线物质）。这种特效最好是通过创建一个体物体包含整个场景来实现。该物体的大小可以感知光线如何被散射或吸收。</p>
</div>
<div class="section" id="smoke">
<h2>烟雾<a class="headerlink" href="#smoke" title="Permalink to this headline">¶</a></h2>
<p>通过Cycles来创作烟雾材质是比较棘手的，然而以下图片提供一些不错的步骤指导。</p>
<div class="figure" id="id2">
<img alt="../../../_images/render_cycles_materials_volume_smoke.png" src="../../../_images/render_cycles_materials_volume_smoke.png" />
<p class="caption"><span class="caption-text">烟雾和火焰材质</span></p>
</div>
</div>
<div class="section" id="scattering-bounces">
<h2>散射反弹<a class="headerlink" href="#scattering-bounces" title="Permalink to this headline">¶</a></h2>
<p>实际生活中，比如云朵，使用到的散射或者浅表面散射，涉及了多次的散射反弹。但是在非偏渲染的时候这些效果计算非常慢和多噪点的。在典型的电影制作场景中，一般只用到0次或者1次反弹值以确保可控的渲染时间。 <em>单次散射</em> 即渲染时采用0次体反弹，多次反弹是 <em>多重散射</em> 。</p>
<p>像皮肤和牛奶这类的材质渲染，次表面散射着色器是一个近似的多重散射效果，渲染非常效率但是精确度不高。</p>
<p>云和烟雾这样没有明确边界表面的材质，体渲染是必须的。多次散射反弹的外观效果更逼真，但是在实际操作中通常会限制反弹次数，为了保证渲染不会耗时太长。</p>
</div>
<div class="section" id="limitations">
<h2>局限点<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<p>Currently, the following are not supported:</p>
<ul class="simple">
<li>调整体积网格的光束可见性</li>
</ul>
<p>未在GPU上实现的功能：</p>
<ul class="simple">
<li>等角/MIS体积采样</li>
<li>体积多灯光采样</li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="displacement.html" class="btn btn-neutral float-right" title="置换着色器" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="surface.html" class="btn btn-neutral" title="表面材质" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright : This page is licensed under a CC-BY-SA 4.0 Int. License.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="document versions" aria-hidden="true">
<ul id="versionwrap" role="presentation">
   <li style="float:left" role="presentation">
		<span id="version-dropdown" class="version-btn" tabindex="0" role="button" aria-label="versions selector" aria-haspopup="true" aria-controls="version-vsnlist" aria-disabled="true">
		2.79 
		</span>
		<ul id="version-vsnlist" class="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
   <li style="float:right" role="presentation">
		<span id="lang-dropdown" class="version-btn" tabindex="0" role="button"  aria-label="language selector" aria-haspopup="true" aria-controls="version-langlist">
			 zh-hans 
		</span>
		<ul id="version-langlist" class="version-list" role="menu" aria-labelledby="lang-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
</ul>
</div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.79',
            LANGUAGE:'zh-hans',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/js/version_switch.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>